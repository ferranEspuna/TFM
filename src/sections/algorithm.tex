\section{Our Algorithm}\label{sec:algorithm}

In this section we present a polynomial-time algorithm to find a balanced partite $k$-graph in a given $k$-graph $G$
with $n$ vertices and $m$ edges with part size in the same order of magnitude as stated in
Theorem~\ref{thm:erdos64}.

\begin{remark}
    If we let $q$ be the size of each part in the partite $k$-graph we are looking for, we need
    \[
        m \geq ex(n, K(t, \overset{k}{\cdots}, t)) = O\left(n^{k - \frac{1}{t^{k-1}}}\right)
    \]
    Defining $d = \frac{m}{n^k}$, and taking logarithms, this is true iff
    \[
        \log d \geq - \frac{\log n}{t^{k-1}} + O(1)
    \]
    which implies
    \[
        t = O\left(\left(\frac{\log n}{\log (1/d)}\right)^{\frac{1}{k-1}}\right)
    \]
\end{remark}

This algorithmic problem has already been solved for $k = 2$ by Mubayi and Tur√°n~\cite{MUBAYI2010174}.
The algorithm in that case follows very closely the structure of the proof of Theorem~\ref{thm:kst}.
We outline the algorithm for $k = 2$ here for context and clarity.
The variable names have been altered to match the notation used in this thesis.

\begin{algorithm}
    \caption{Finding a balanced partite graph in a graph}
    \label{alg:bipartite}
        \begin{algorithmic}[1]
        \Require A graph G = $(V, E)$ with $|V| = n$, $E = m$
        \State $d \gets m / n^2 $
        \Ensure $d \geq 3 n^{1/2}$
        \State $t \gets \left\lfloor\frac{\log (n/2) }{\log (2e/d)}\right\rfloor,\, w \gets \lfloor t/d \rfloor$
        \State $W \gets $ The set of $t$ vertices with highest degree in $G$
        \State $U \gets V \setminus W$
        \ForAll{$T \in \binom{W}{t} $}
            \State $S \gets \{x \in U : {x, y} \in E \text{ for all } y \in T\}$
            \If{$|S| \geq t$}
                \State \Return $(S, T)$
            \EndIf
        \EndFor
        \end{algorithmic}
\end{algorithm}

If the set $S$ is too large we can simply take a subset of it of size $t$.
The algorithm is correct if at some point it returns a pair of sets $(S, T)$.
The argument of why this is the case boils down to showing that there is a
large number of edges between $U$ and $W$ and then applying Theorem~\ref{thm:kst}
with $u = |U| = n - w$ and $s = t$ .
Finally, the algorithm runs in polynomial time because 
the  number of iterations of the loop is
\[
    \binom{w}{t} \leq \left(\frac{ew}{t}\right)^t \leq \left(\frac{1}{d}\right)^t e^t < e^{t \log (1/d) + \log n} < e^{2\log n} = n^2
\]

\begin{remark}
    The requirement for a minimum density is because if $d = o\left(n^{1/2}\right)$ then
    there may not even be a $K(2, 2)$ in $G$. % TODO: Explain this better
\end{remark}

We will now describe an extended algorithm which will find a balanced partite $k$-graph in a $k$-graph $G$ with
$n$ vertices and $m = d n^k$ with part size

\[
    t (k, d) = \left\lfloor \left(  \frac{\log (n/2^k)}{\log (2^{k+1}/d)} \right)^{\frac{1}{k-1}} \right\rfloor
\]

\begin{algorithm}
    \caption{Finding a balanced partite $k$-graph in a $k$-graph}
    \label{alg:kpartite}
    \begin{algorithmic}[1]
        \Function{FIND\_PARTITE}{$G, k$}
            \State \textbf{assert} G is a $k$-graph
            \If {$k = 1$}
                \State \Return $\{x : \{x\} \in E(G)\}$
            \EndIf

            \State \textbf{assert} $d \geq 4^k n^{-\frac{1}{2^{k-1}}}$
            \State $n \gets |V(G)|,\, m \gets |E(G)|,\, d \gets m/n^k$
            \State $t \gets t(d, k),\, w \gets \lceil 2t/d \rceil,\, s \gets \lfloor d^t n^{k-1} \rfloor$
            \State $W \gets$ the set of $t$ vertices with highest degree in $G$
            \State $U \gets \binom{V\setminus W}{k-1}$

            \ForAll{$T \in \binom{W}{t}$}
                \State $S \gets \{\,y \in U : \{x\} \cup y \in E \text{ for all } x \in T\,\}$
                \If{$|S| \geq s$}
                    \Return $(S)\, \circ $\Call{FIND\_PARTITE}{$G' \coloneqq (V \setminus W, S),\, k-1$}
                \EndIf
            \EndFor
        \EndFunction
    \end{algorithmic}
\end{algorithm}

Where the operator $\circ$ denotes the concatenation of tuples, and we
understand a $1$-graph to be a subset of a set.





